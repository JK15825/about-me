import{isServer as T,getRequestEvent as F,createComponent as w,delegateEvents as Qe,ssrElement as z,escape as $,mergeProps as Ze,ssr as A,ssrHydrationKey as P,useAssets as et,NoHydration as Se,Hydration as tt,ssrAttribute as G,HydrationScript as nt,renderToString as rt,renderToStream as st}from"solid-js/web";import{M as ot,T as at}from"./assets/index-BdnVf8ln.js";import{getOwner as Ee,runWithOwner as Ae,createMemo as x,createContext as Ce,createSignal as U,createRenderEffect as it,on as se,useContext as ct,startTransition as lt,resetErrorBoundaries as ut,batch as dt,untrack as $e,createComponent as xe,children as ft,Show as Pe,createRoot as ht,onCleanup as Te,sharedConfig as I,lazy as pt,Suspense as mt,catchError as gt,ErrorBoundary as yt}from"solid-js";import{H as Le}from"./assets/HttpStatusCode-DH8IeaZe.js";import{provideRequestEvent as wt}from"solid-js/web/storage";import{H3Event as Z,setResponseStatus as bt,setHeader as Rt,getRequestIP as vt,getResponseStatus as St,getResponseStatusText as Et,getResponseHeader as At,setResponseHeader as Ct,removeResponseHeader as $t,appendResponseHeader as xt,getResponseHeaders as Pt,getRequestURL as Tt,getRequestWebStream as Lt,sendRedirect as _t,getCookie as Ht,setCookie as Nt,eventHandler as kt}from"h3";import{AsyncLocalStorage as Ot}from"node:async_hooks";function _e(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function s(r,a){if(n)return!(n=!1);const o={to:r,options:a,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const i of e)i.listener({...o,from:i.location,retry:l=>{l&&(n=!0),i.navigate(r,{...a,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:s}}let ee;function oe(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),ee=window.history.state._depth}T||oe();function qt(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function It(e,t){let n=!1;return()=>{const s=ee;oe();const r=s==null?null:ee-s;if(n){n=!1;return}r&&t(r)?(n=!0,window.history.go(-r)):e()}}const Dt=/^(?:[a-z0-9]+:)?\/\//i,Ft=/^\/+|(\/)\/+$/g,He="http://sr";function W(e,t=!1){const n=e.replace(Ft,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function V(e,t,n){if(Dt.test(t))return;const s=W(e),r=n&&W(n);let a="";return!r||t.startsWith("/")?a=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?a=s+r:a=r,(a||"/")+W(t,!a)}function Mt(e,t){return W(e).replace(/\/*(\*.*)?$/g,"")+W(t)}function Ne(e){const t={};return e.searchParams.forEach((n,s)=>{s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}),t}function Ut(e,t,n){const[s,r]=e.split("/*",2),a=s.split("/").filter(Boolean),o=a.length;return i=>{const l=i.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&r===void 0&&!t)return null;const u={path:o?"":"/",params:{}},g=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const h=a[d],v=h[0]===":",f=v?l[d]:l[d].toLowerCase(),p=v?h.slice(1):h.toLowerCase();if(v&&X(f,g(p)))u.params[p]=f;else if(v||!X(f,p))return null;u.path+=`/${f}`}if(r){const d=c?l.slice(-c).join("/"):"";if(X(d,g(r)))u.params[r]=d;else return null}return u}}function X(e,t){const n=s=>s===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Wt(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((r,a)=>r+(a.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function ke(e){const t=new Map,n=Ee();return new Proxy({},{get(s,r){return t.has(r)||Ae(n,()=>t.set(r,x(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Oe(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=t[1]),s=s.slice(t[0].length);return Oe(s).reduce((a,o)=>[...a,...r.map(i=>i+o)],[])}const jt=100,Bt=Ce(),qe=Ce();function Kt(e,t=""){const{component:n,preload:s,load:r,children:a,info:o}=e,i=!a||Array.isArray(a)&&!a.length,l={key:e,component:n,preload:s||r,info:o};return Ie(e.path).reduce((c,u)=>{for(const g of Oe(u)){const d=Mt(t,g);let h=i?d:d.split("/*",1)[0];h=h.split("/").map(v=>v.startsWith(":")||v.startsWith("*")?v:encodeURIComponent(v)).join("/"),c.push({...l,originalPath:u,pattern:h,matcher:Ut(h,!i,e.matchFilters)})}return c},[])}function zt(e,t=0){return{routes:e,score:Wt(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r],o=a.matcher(n);if(!o)return null;s.unshift({...o,route:a})}return s}}}function Ie(e){return Array.isArray(e)?e:[e]}function De(e,t="",n=[],s=[]){const r=Ie(e);for(let a=0,o=r.length;a<o;a++){const i=r[a];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const l=Kt(i,t);for(const c of l){n.push(c);const u=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!u)De(i.children,c.pattern,n,s);else{const g=zt([...n],s.length);s.push(g)}n.pop()}}}return n.length?s:s.sort((a,o)=>o.score-a.score)}function j(e,t){for(let n=0,s=e.length;n<s;n++){const r=e[n].matcher(t);if(r)return r}return[]}function Gt(e,t,n){const s=new URL(He),r=x(u=>{const g=e();try{return new URL(g,s)}catch{return console.error(`Invalid path ${g}`),u}},s,{equals:(u,g)=>u.href===g.href}),a=x(()=>r().pathname),o=x(()=>r().search,!0),i=x(()=>r().hash),l=()=>"",c=se(o,()=>Ne(r()));return{get pathname(){return a()},get search(){return o()},get hash(){return i()},get state(){return t()},get key(){return l()},query:n?n(c):ke(c)}}let H;function Jt(){return H}function Vt(e,t,n,s={}){const{signal:[r,a],utils:o={}}=e,i=o.parsePath||(m=>m),l=o.renderPath||(m=>m),c=o.beforeLeave||_e(),u=V("",s.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!r().value&&a({value:u,replace:!0,scroll:!1});const[g,d]=U(!1);let h;const v=(m,y)=>{y.value===f()&&y.state===R()||(h===void 0&&d(!0),H=m,h=y,lt(()=>{h===y&&(p(h.value),b(h.state),ut(),T||_[1](E=>E.filter(N=>N.pending)))}).finally(()=>{h===y&&dt(()=>{H=void 0,m==="navigate"&&Ve(h),d(!1),h=void 0})}))},[f,p]=U(r().value),[R,b]=U(r().state),L=Gt(f,R,o.queryWrapper),C=[],_=U(T?Xe():[]),M=x(()=>typeof s.transformUrl=="function"?j(t(),s.transformUrl(L.pathname)):j(t(),L.pathname)),ae=()=>{const m=M(),y={};for(let E=0;E<m.length;E++)Object.assign(y,m[E].params);return y},ze=o.paramsWrapper?o.paramsWrapper(ae,t):ke(ae),ie={pattern:u,path:()=>u,outlet:()=>null,resolvePath(m){return V(u,m)}};return it(se(r,m=>v("native",m),{defer:!0})),{base:ie,location:L,params:ze,isRouting:g,renderPath:l,parsePath:i,navigatorFactory:Je,matches:M,beforeLeave:c,preloadRoute:Ye,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:_};function Ge(m,y,E){$e(()=>{if(typeof y=="number"){y&&(o.go?o.go(y):console.warn("Router integration does not support relative routing"));return}const N=!y||y[0]==="?",{replace:B,resolve:k,scroll:K,state:O}={replace:!1,resolve:!N,scroll:!0,...E},q=k?m.resolvePath(y):V(N&&L.pathname||"",y);if(q===void 0)throw new Error(`Path '${y}' is not a routable path`);if(C.length>=jt)throw new Error("Too many redirects");const ce=f();if(q!==ce||O!==R())if(T){const le=F();le&&(le.response={status:302,headers:new Headers({Location:q})}),a({value:q,replace:B,scroll:K,state:O})}else c.confirm(q,E)&&(C.push({value:ce,replace:B,scroll:K,state:R()}),v("navigate",{value:q,state:O}))})}function Je(m){return m=m||ct(qe)||ie,(y,E)=>Ge(m,y,E)}function Ve(m){const y=C[0];y&&(a({...m,replace:y.replace,scroll:y.scroll}),C.length=0)}function Ye(m,y){const E=j(t(),m.pathname),N=H;H="preload";for(let B in E){const{route:k,params:K}=E[B];k.component&&k.component.preload&&k.component.preload();const{preload:O}=k;y&&O&&Ae(n(),()=>O({params:K,location:{pathname:m.pathname,search:m.search,hash:m.hash,query:Ne(m),state:null,key:""},intent:"preload"}))}H=N}function Xe(){const m=F();return m&&m.router&&m.router.submission?[m.router.submission]:[]}}function Yt(e,t,n,s){const{base:r,location:a,params:o}=e,{pattern:i,component:l,preload:c}=s().route,u=x(()=>s().path);l&&l.preload&&l.preload();const g=c?c({params:o,location:a,intent:H||"initial"}):void 0;return{parent:t,pattern:i,path:u,outlet:()=>l?xe(l,{params:o,location:a,data:g,get children(){return n()}}):n(),resolvePath(h){return V(r.path(),h,u())}}}const Fe=e=>t=>{const{base:n}=t,s=ft(()=>t.children),r=x(()=>De(s(),t.base||""));let a;const o=Vt(e,r,()=>a,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),w(Bt.Provider,{value:o,get children(){return w(Xt,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(a=Ee())&&null,w(Qt,{routerState:o,get branches(){return r()}})]}})}})};function Xt(e){const t=e.routerState.location,n=e.routerState.params,s=x(()=>e.preload&&$e(()=>{e.preload({params:n,location:t,intent:Jt()||"initial"})}));return w(Pe,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>w(r,{params:n,location:t,get data(){return s()},get children(){return e.children}})})}function Qt(e){if(T){const r=F();if(r&&r.router&&r.router.dataOnly){Zt(r,e.routerState,e.branches);return}r&&((r.router||(r.router={})).matches||(r.router.matches=e.routerState.matches().map(({route:a,path:o,params:i})=>({path:a.originalPath,pattern:a.pattern,match:o,params:i,info:a.info}))))}const t=[];let n;const s=x(se(e.routerState.matches,(r,a,o)=>{let i=a&&r.length===a.length;const l=[];for(let c=0,u=r.length;c<u;c++){const g=a&&a[c],d=r[c];o&&g&&d.route.key===g.route.key?l[c]=o[c]:(i=!1,t[c]&&t[c](),ht(h=>{t[c]=h,l[c]=Yt(e.routerState,l[c-1]||e.routerState.base,ue(()=>s()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(r.length).forEach(c=>c()),o&&i?o:(n=l[0],l)}));return ue(()=>s()&&n)()}const ue=e=>()=>w(Pe,{get when(){return e()},keyed:!0,children:t=>w(qe.Provider,{value:t,get children(){return t.outlet()}})});function Zt(e,t,n){const s=new URL(e.request.url),r=j(n,new URL(e.router.previousUrl||e.request.url).pathname),a=j(n,s.pathname);for(let o=0;o<a.length;o++){(!r[o]||a[o].route!==r[o].route)&&(e.router.dataOnly=!0);const{route:i,params:l}=a[o];i.preload&&i.preload({params:l,location:t.location,intent:"preload"})}}function en([e,t],n,s){return[e,s?r=>t(s(r)):t]}function tn(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,s=en(U(n(e.get()),{equals:(r,a)=>r.value===a.value&&r.state===a.state}),void 0,r=>(!t&&e.set(r),I.registry&&!I.done&&(I.done=!0),r));return e.init&&Te(e.init((r=e.get())=>{t=!0,s[1](n(r)),t=!1})),Fe({signal:s,create:e.create,utils:e.utils})}function nn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function rn(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function sn(e){const t=new URL(e);return t.pathname+t.search}function on(e){let t;const n={value:e.url||(t=F())&&sn(t.request.url)||""};return Fe({signal:[()=>n,s=>Object.assign(n,s)]})(e)}const an=new Map;function cn(e=!0,t=!1,n="/_server",s){return r=>{const a=r.base.path(),o=r.navigatorFactory(r.base);let i,l;function c(f){return f.namespaceURI==="http://www.w3.org/2000/svg"}function u(f){if(f.defaultPrevented||f.button!==0||f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)return;const p=f.composedPath().find(M=>M instanceof Node&&M.nodeName.toUpperCase()==="A");if(!p||t&&!p.hasAttribute("link"))return;const R=c(p),b=R?p.href.baseVal:p.href;if((R?p.target.baseVal:p.target)||!b&&!p.hasAttribute("state"))return;const C=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||C&&C.includes("external"))return;const _=R?new URL(b,document.baseURI):new URL(b);if(!(_.origin!==window.location.origin||a&&_.pathname&&!_.pathname.toLowerCase().startsWith(a.toLowerCase())))return[p,_]}function g(f){const p=u(f);if(!p)return;const[R,b]=p,L=r.parsePath(b.pathname+b.search+b.hash),C=R.getAttribute("state");f.preventDefault(),o(L,{resolve:!1,replace:R.hasAttribute("replace"),scroll:!R.hasAttribute("noscroll"),state:C?JSON.parse(C):void 0})}function d(f){const p=u(f);if(!p)return;const[R,b]=p;s&&(b.pathname=s(b.pathname)),r.preloadRoute(b,R.getAttribute("preload")!=="false")}function h(f){clearTimeout(i);const p=u(f);if(!p)return l=null;const[R,b]=p;l!==R&&(s&&(b.pathname=s(b.pathname)),i=setTimeout(()=>{r.preloadRoute(b,R.getAttribute("preload")!=="false"),l=R},20))}function v(f){if(f.defaultPrevented)return;let p=f.submitter&&f.submitter.hasAttribute("formaction")?f.submitter.getAttribute("formaction"):f.target.getAttribute("action");if(!p)return;if(!p.startsWith("https://action/")){const b=new URL(p,He);if(p=r.parsePath(b.pathname+b.search),!p.startsWith(n))return}if(f.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const R=an.get(p);if(R){f.preventDefault();const b=new FormData(f.target,f.submitter);R.call({r,f:f.target},f.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}Qe(["click","submit"]),document.addEventListener("click",g),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",v),Te(()=>{document.removeEventListener("click",g),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",v)})}}function ln(e){if(T)return on(e);const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=_e();return tn({get:t,set({value:s,replace:r,scroll:a,state:o}){r?window.history.replaceState(qt(o),"",s):window.history.pushState(o,"",s),rn(decodeURIComponent(window.location.hash.slice(1)),a),oe()},init:s=>nn(window,"popstate",It(s,r=>{if(r&&r<0)return!n.confirm(r);{const a=t();return!n.confirm(a.value,{state:a.state})}})),create:cn(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(e)}function un(e){e.forEach(t=>{if(!t.attrs.href)return;let n=document.head.querySelector(`link[href="${t.attrs.href}"]`);n||(n=document.createElement("link"),n.setAttribute("rel","preload"),n.setAttribute("as","style"),n.setAttribute("href",t.attrs.href),document.head.appendChild(n))})}var dn=" ";const fn={style:e=>z("style",e.attrs,()=>$(e.children),!0),link:e=>z("link",e.attrs,void 0,!0),script:e=>e.attrs.src?z("script",Ze(()=>e.attrs,{get id(){return e.key}}),()=>A(dn),!0):null,noscript:e=>z("noscript",e.attrs,()=>$(e.children),!0)};function te(e,t){let{tag:n,attrs:{key:s,...r}={key:void 0},children:a}=e;return fn[n]({attrs:{...r,nonce:t},key:s,children:a})}function hn(e,t,n,s="default"){return pt(async()=>{{const a=(await e.import())[s],i=(await t.inputs?.[e.src].assets()).filter(c=>c.tag==="style"||c.attrs.rel==="stylesheet");return typeof window<"u"&&un(i),{default:c=>[...i.map(u=>te(u)),xe(a,c)]}}})}const D={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function pn(e={}){const t={options:e,rootNode:Me(),staticRoutesMap:{}},n=s=>e.strictTrailingSlash?s:s.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)de(t,n(s),e.routes[s]);return{ctx:t,lookup:s=>mn(t,n(s)),insert:(s,r)=>de(t,n(s),r),remove:s=>gn(t,n(s))}}function mn(e,t){const n=e.staticRoutesMap[t];if(n)return n.data;const s=t.split("/"),r={};let a=!1,o=null,i=e.rootNode,l=null;for(let c=0;c<s.length;c++){const u=s[c];i.wildcardChildNode!==null&&(o=i.wildcardChildNode,l=s.slice(c).join("/"));const g=i.children.get(u);if(g===void 0){if(i&&i.placeholderChildren.length>1){const d=s.length-c;i=i.placeholderChildren.find(h=>h.maxDepth===d)||null}else i=i.placeholderChildren[0]||null;if(!i)break;i.paramName&&(r[i.paramName]=u),a=!0}else i=g}return(i===null||i.data===null)&&o!==null&&(i=o,r[i.paramName||"_"]=l,a=!0),i?a?{...i.data,params:a?r:void 0}:i.data:null}function de(e,t,n){let s=!0;const r=t.split("/");let a=e.rootNode,o=0;const i=[a];for(const l of r){let c;if(c=a.children.get(l))a=c;else{const u=yn(l);c=Me({type:u,parent:a}),a.children.set(l,c),u===D.PLACEHOLDER?(c.paramName=l==="*"?`_${o++}`:l.slice(1),a.placeholderChildren.push(c),s=!1):u===D.WILDCARD&&(a.wildcardChildNode=c,c.paramName=l.slice(3)||"_",s=!1),i.push(c),a=c}}for(const[l,c]of i.entries())c.maxDepth=Math.max(i.length-l,c.maxDepth||0);return a.data=n,s===!0&&(e.staticRoutesMap[t]=a),a}function gn(e,t){let n=!1;const s=t.split("/");let r=e.rootNode;for(const a of s)if(r=r.children.get(a),!r)return n;if(r.data){const a=s.at(-1)||"";r.data=null,Object.keys(r.children).length===0&&r.parent&&(r.parent.children.delete(a),r.parent.wildcardChildNode=null,r.parent.placeholderChildren=[]),n=!0}return n}function Me(e={}){return{type:e.type||D.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function yn(e){return e.startsWith("**")?D.WILDCARD:e[0]===":"||e==="*"?D.PLACEHOLDER:D.NORMAL}const Ue=[{page:!0,$component:{src:"src/routes/[...404].tsx?pick=default&pick=$css",build:()=>import("./_...404_.js"),import:()=>import("./_...404_.js")},path:"/*404",filePath:"/Users/iti/Documents/about-me/src/routes/[...404].tsx"},{page:!0,$component:{src:"src/routes/about.tsx?pick=default&pick=$css",build:()=>import("./about.js"),import:()=>import("./about.js")},path:"/about",filePath:"/Users/iti/Documents/about-me/src/routes/about.tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("./index.js"),import:()=>import("./index.js")},path:"/",filePath:"/Users/iti/Documents/about-me/src/routes/index.tsx"}],wn=bn(Ue.filter(e=>e.page));function bn(e){function t(n,s,r,a){const o=Object.values(n).find(i=>r.startsWith(i.id+"/"));return o?(t(o.children||(o.children=[]),s,r.slice(o.id.length)),n):(n.push({...s,id:r,path:r.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"")}),n)}return e.sort((n,s)=>n.path.length-s.path.length).reduce((n,s)=>t(n,s,s.path,s.path),[])}function Rn(e,t){const n=Sn.lookup(e);if(n&&n.route){const s=t==="HEAD"?n.route.$HEAD||n.route.$GET:n.route[`$${t}`];return s===void 0?void 0:{handler:s,params:n.params}}}function vn(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const Sn=pn({routes:Ue.reduce((e,t)=>{if(!vn(t))return e;let n=t.path.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"").replace(/\*([^/]*)/g,(s,r)=>`**:${r}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(n))throw new Error(`Optional parameters are not supported in API routes: ${n}`);if(e[n])throw new Error(`Duplicate API routes for "${n}" found at "${e[n].route.path}" and "${t.path}"`);return e[n]={route:t},e},{})});function We(){function e(n){return{...n,...n.$$route?n.$$route.require().route:void 0,info:{...n.$$route?n.$$route.require().route.info:{},filesystem:!0},component:n.$component&&hn(n.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:n.children?n.children.map(e):void 0}}return wn.map(e)}let fe;const En=T?()=>F().routes:()=>fe||(fe=We());var An=["<a",' href="/">Index</a>'],Cn=["<a",' href="/about">About</a>'];function $n(){return w(ln,{get base(){return""},root:e=>w(ot,{get children(){return[w(at,{children:"SolidStart - Basic"}),A(An,P()),A(Cn,P()),w(mt,{get children(){return e.children}})]}}),get children(){return w(En,{})}})}var xn=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">',"</span>"],Pn=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">500 | Internal Server Error</span>'];const Tn=e=>{const t=T?"500 | Internal Server Error":"Error | Uncaught Client Exception";return w(yt,{fallback:n=>(console.error(n),[A(xn,P(),$(t)),w(Le,{code:500})]),get children(){return e.children}})},Ln=e=>{let t=!1;const n=gt(()=>e.children,s=>{console.error(s),t=!!s});return t?[A(Pn,P()),w(Le,{code:500})]:n};var he=["<script",">","<\/script>"],_n=["<script",' type="module"'," async","><\/script>"],Hn=["<script",' type="module" async',"><\/script>"];const Nn=A("<!DOCTYPE html>");function je(e,t,n=[]){for(let s=0;s<t.length;s++){const r=t[s];if(r.path!==e[0].path)continue;let a=[...n,r];if(r.children){const o=e.slice(1);if(o.length===0||(a=je(o,r.children,a),!a))continue}return a}}function kn(e){const t=F(),n=t.nonce;let s=[];return Promise.resolve().then(async()=>{let r=[];if(t.router&&t.router.matches){const a=[...t.router.matches];for(;a.length&&(!a[0].info||!a[0].info.filesystem);)a.shift();const o=a.length&&je(a,t.routes);if(o){const i=globalThis.MANIFEST.client.inputs;for(let l=0;l<o.length;l++){const c=o[l],u=i[c.$component.src];r.push(u.assets())}}}s=await Promise.all(r).then(a=>[...new Map(a.flat().map(o=>[o.attrs.key,o])).values()].filter(o=>o.attrs.rel==="modulepreload"&&!t.assets.find(i=>i.attrs.key===o.attrs.key)))}),et(()=>s.length?s.map(r=>te(r)):void 0),w(Se,{get children(){return[Nn,w(Ln,{get children(){return w(e.document,{get assets(){return[w(nt,{}),t.assets.map(r=>te(r,n))]},get scripts(){return n?[A(he,P()+G("nonce",$(n,!0),!1),`window.manifest = ${JSON.stringify(t.manifest)}`),A(_n,P(),G("nonce",$(n,!0),!1),G("src",$(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]:[A(he,P(),`window.manifest = ${JSON.stringify(t.manifest)}`),A(Hn,P(),G("src",$(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return w(tt,{get children(){return w(Tn,{get children(){return w($n,{})}})}})}})}})]}})}function On(e={}){let t,n=!1;const s=o=>{if(t&&t!==o)throw new Error("Context conflict")};let r;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?r=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(r){const o=r.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=a();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>a(),set:(o,i)=>{i||s(o),t=o,n=!0},unset:()=>{t=void 0,n=!1},call:(o,i)=>{s(o),t=o;try{return r?r.run(o,i):i()}finally{n||(t=void 0)}},async callAsync(o,i){t=o;const l=()=>{t=o},c=()=>t===o?l:void 0;ge.add(c);try{const u=r?r.run(o,i):i();return n||(t=void 0),await u}finally{ge.delete(c)}}}}function qn(e={}){const t={};return{get(n,s={}){return t[n]||(t[n]=On({...e,...s})),t[n]}}}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},pe="__unctx__",In=Y[pe]||(Y[pe]=qn()),Dn=(e,t={})=>In.get(e,t),me="__unctx_async_handlers__",ge=Y[me]||(Y[me]=new Set);function Fn(e){let t;const n=Ke(e),s={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(n,{...s,body:e.node.req.body}):new Request(n,{...s,get body(){return t||(t=Yn(e),t)}})}function Mn(e){return e.web??={request:Fn(e),url:Ke(e)},e.web.request}function Un(){return er()}const Be=Symbol("$HTTPEvent");function Wn(e){return typeof e=="object"&&(e instanceof Z||e?.[Be]instanceof Z||e?.__is_event__===!0)}function S(e){return function(...t){let n=t[0];if(Wn(n))t[0]=n instanceof Z||n.__is_event__?n:n[Be];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(n=Un(),!n)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(n)}return e(...t)}}const Ke=S(Tt),jn=S(vt),ne=S(bt),ye=S(St),Bn=S(Et),J=S(Pt),we=S(At),Kn=S(Ct),zn=S(xt),be=S(_t),Gn=S(Ht),Jn=S(Nt),Vn=S(Rt),Yn=S(Lt),Xn=S($t),Qn=S(Mn);function Zn(){return Dn("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:Ot})}function er(){return Zn().use().event}const Q="solidFetchEvent";function tr(e){return{request:Qn(e),response:sr(e),clientAddress:jn(e),locals:{},nativeEvent:e}}function nr(e){if(!e.context[Q]){const t=tr(e);e.context[Q]=t}return e.context[Q]}class rr{event;constructor(t){this.event=t}get(t){const n=we(this.event,t);return Array.isArray(n)?n.join(", "):n||null}has(t){return this.get(t)!==void 0}set(t,n){return Kn(this.event,t,n)}delete(t){return Xn(this.event,t)}append(t,n){zn(this.event,t,n)}getSetCookie(){const t=we(this.event,"Set-Cookie");return Array.isArray(t)?t:[t]}forEach(t){return Object.entries(J(this.event)).forEach(([n,s])=>t(Array.isArray(s)?s.join(", "):s,n,this))}entries(){return Object.entries(J(this.event)).map(([t,n])=>[t,Array.isArray(n)?n.join(", "):n])[Symbol.iterator]()}keys(){return Object.keys(J(this.event))[Symbol.iterator]()}values(){return Object.values(J(this.event)).map(t=>Array.isArray(t)?t.join(", "):t)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function sr(e){return{get status(){return ye(e)},set status(t){ne(e,t)},get statusText(){return Bn(e)},set statusText(t){ne(e,ye(e),t)},headers:new rr(e)}}function or(e){const t=Gn(e.nativeEvent,"flash");if(t)try{let n=JSON.parse(t);if(!n||!n.result)return;const s=[...n.input.slice(0,-1),new Map(n.input[n.input.length-1])],r=n.error?new Error(n.result):n.result;return{input:s,url:n.url,pending:!1,result:n.thrown?void 0:r,error:n.thrown?r:void 0}}catch(n){console.error(n)}finally{Jn(e.nativeEvent,"flash","",{maxAge:0})}}async function ar(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:or(e)},routes:We(),complete:!1,$islands:new Set})}const ir=new Set([301,302,303,307,308]);function re(e){return e.status&&ir.has(e.status)?e.status:302}function cr(e,t,n={}){return kt({handler:s=>{const r=nr(s);return wt(r,async()=>{const a=Rn(new URL(r.request.url).pathname,r.request.method);if(a){const d=await a.handler.import(),h=r.request.method==="HEAD"?d.HEAD||d.GET:d[r.request.method];r.params=a.params||{},I.context={event:r};const v=await h(r);if(v!==void 0)return v;if(r.request.method!=="GET")throw new Error(`API handler for ${r.request.method} "${r.request.url}" did not return a response.`)}const o=await t(r),i=typeof n=="function"?await n(o):{...n},l=i.mode||"stream";if(i.nonce&&(o.nonce=i.nonce),l==="sync"){const d=rt(()=>(I.context.event=o,e(o)),i);if(o.complete=!0,o.response&&o.response.headers.get("Location")){const h=re(o.response);return be(s,o.response.headers.get("Location"),h)}return d}if(i.onCompleteAll){const d=i.onCompleteAll;i.onCompleteAll=h=>{ve(o)(h),d(h)}}else i.onCompleteAll=ve(o);if(i.onCompleteShell){const d=i.onCompleteShell;i.onCompleteShell=h=>{Re(o,s)(),d(h)}}else i.onCompleteShell=Re(o,s);const c=st(()=>(I.context.event=o,e(o)),i);if(o.response&&o.response.headers.get("Location")){const d=re(o.response);return be(s,o.response.headers.get("Location"),d)}if(l==="async")return c;const{writable:u,readable:g}=new TransformStream;return c.pipeTo(u),g})}})}function Re(e,t){return()=>{if(e.response&&e.response.headers.get("Location")){const n=re(e.response);ne(t,n),Vn(t,"Location",e.response.headers.get("Location"))}}}function ve(e){return({write:t})=>{e.complete=!0;const n=e.response&&e.response.headers.get("Location");n&&t(`<script>window.location="${n}"<\/script>`)}}function lr(e,t){return cr(e,ar,t)}var ur=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico">',"</head>"],dr=["<html",' lang="en">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"];const br=lr(()=>w(kn,{document:({assets:e,children:t,scripts:n})=>A(dr,P(),w(Se,{get children(){return A(ur,$(e))}}),$(t),$(n))}));export{br as default};
